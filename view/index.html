<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- css -->
    <link rel="stylesheet" href="../assets/styles/main.css" type="text/css">

    <title>{{ .Title }}</title>
</head>

<body>
    <div id="header" class="py-3">
        <div class="row">
            <div class="col" style="max-width: 100px;">
                <a href="/" style="text-decoration: none;">
                    <img src="../assets/images/logo.png" alt="" srcset="" style="height: 100px;">
                </a>
            </div>
            <div class="col text-end pt-3">
                <h2 class="text-end">Dept. of Management</h2>
                <h5 class="text-end">Kushtia Govt. College, Kushtia</h5>
            </div>
        </div>
    </div>

    <div id="nav"></div>

    <div id="container">
        <div id="tableSection">
            <table class="table table-light table-striped text-center mb-0" id="table">
                <thead style="border-bottom: 1px solid #b4c9e4">
                    <tr style="border-bottom: 1px solid #d9e4f2;">
                        {{ if not .LoggedIn }}
                        <th colspan="8" class="h3 text-center">Student List</th>
                        {{ else }}
                        <th colspan="9" class="h3 text-center">Student List</th>
                        {{ end }}
                        <th colspan="1">
                            <div id="searchBtn" class="btnAdd"
                                style="padding: 4px 16px; margin-bottom: 2px; max-width: 50px; float: right;">
                                <img src="../assets/images/search.png" alt="" srcset=""
                                    style="width: 15px; cursor: pointer; margin-bottom: 2px;">
                            </div>
                        </th>
                    </tr>
                    <tr>
                        <th style="display: none;">ID</th>
                        <th>#</th>
                        <th>Picture</th>
                        <th>Name</th>
                        <th>Session</th>
                        <th>Reg. No.</th>
                        <th>Class Roll</th>
                        <th>Passing Year</th>
                        <th>Phone</th>
                        <th>Email</th>
                        {{ if .LoggedIn }}
                        <th>
                            <img src="../assets/images/admin.png" alt="" srcset="" style="width: 15px;opacity: 0.9;">
                        </th>
                        {{ end }}
                    </tr>
                    <tr id="searchRow" style="display: none;">
                        <th class="py-0">
                            <div id="sort" class="btnAdd" style="padding: 1px 16px; margin-bottom: 4px;">
                                <img src="../assets/images/sort.png" alt="" srcset=""
                                    style="width: 15px; cursor: pointer;">
                            </div>
                        </th>
                        <th></th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        <th class="py-0">
                            <input type="text" name=""
                                style="height: 30px; margin: 3px 0px; width: 95%; outline: none; border: 1px solid #d9e4f2; border-radius: 3px; padding: 0px 6px; box-sizing: border-box;">
                        </th>
                        {{ if .LoggedIn }}
                        <th></th>
                        {{ end }}
                    </tr>
                </thead>
                <tbody>
                    <!-- <tr class="tableRow">
                        <td>00</td>
                        <td style="display: none;">111</td>
                        <td>Dummy Name</td>
                        <td>DM12456789</td>
                        <td>2015-16</td>
                        <td>00171234567</td>
                        <td>abc@mail.com</td>
                        {{ if .LoggedIn }}
                        <td class="editIcon">
                            <img src="../assets/images/edit.png" alt="" srcset="" title="Edit" onclick="editItem(this)"
                                data-bs-toggle="modal" data-bs-target="#addModal">
                            <img src="../assets/images/delete.png" alt="" srcset="" title="Delete" class="ms-3"
                                onclick="deleteItem(this)" data-bs-toggle="modal" data-bs-target="#deleteModal">
                        </td>
                        {{ end }}
                    </tr> -->
                </tbody>
            </table>
            <div>
                <p class="text-center" id="loadingGif">
                    <img src="../assets/images/loading.gif" style="height: 230px;">
                </p>
                <p class="text-center py-2 h5" id="notFound" style="display:none; padding:10px; color: #1b2f4b;">
                    Student list is empty!
                </p>
            </div>
        </div>
    </div>

    <div id="footer" class="pt-3">
        <div class="row">
            <div class="col">
                <p>Dept. of Management</p>
                <p>Kushtia Govt. College, Kushtia</p>
                <p id="loggedIn" style="display:none;">{{ .LoggedIn }}</p> <!-- for sending to js -->
                <p>Moderator
                    {{ if not .LoggedIn }}
                    <span id="loginBtn" data-bs-toggle="modal" data-bs-target="#loginModal">
                        Login
                    </span>
                    {{ else }}
                    <a href="/auth/logout" id="logoutBtn">
                        Logout
                    </a>
                    {{ end }}
                </p>
            </div>
            <div class="col text-end">
                <p>Developed By: </p>
                <p>Md. Nahid Hasan</p>
                <p>
                    <span class="me-2">
                        <a href="https://github.com/nahidhasan98" style="text-decoration: none;">
                            <img src="../assets/images/github.png" alt="" srcset="" style="width: 20px;">
                        </a>
                    </span> |
                    <span class="mx-2">
                        <a href="https://linkedin.com/in/nahidhasan98" style="text-decoration: none;">
                            <img src="../assets/images/linkedin.png" alt="" srcset="" style="width: 20px;">
                        </a>
                    </span> |
                    <span class="ms-2">
                        <a href="mailto:mnh.nahid35@gmail.com">
                            <img src="../assets/images/mail.png" alt="" srcset="" style="width: 20px;">
                        </a>
                    </span>
                </p>
            </div>
        </div>
    </div>

    <!-- Moderator Login Modal -->
    {{ if not .LoggedIn }}
    <div id="loginModalSection">
        <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"
            aria-hidden="true" data-bs-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" style="max-width: 80%;">
                    <div class="modal-header mx-3 px-0">
                        <p class="modal-title h5" id="loginModalLabel" style="color: #424557;">Moderator Login</p>
                        <span class="modal-close-icon" aria-hidden="true" data-bs-dismiss="modal"
                            aria-label="Close">&times;</span>
                    </div>
                    <div class="modal-body">
                        <form class="form">
                            <div class="row pb-3">
                                <div class="form-floating mb-3">
                                    <input type="text" name="username" id="username" class="form-control"
                                        placeholder="username" style="height: 50px;" required>
                                    <label for="username" style="padding: 13px 26px; color: #8b8fa7;">Username</label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errUsername"></p>
                                </div>
                                <div class="form-floating">
                                    <input type="password" name="password" id="password" class="form-control"
                                        placeholder="password" style="height: 50px;" required>
                                    <label for="reg" style="padding: 13px 26px; color: #8b8fa7;">Password</label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errPassword"></p>
                                </div>
                            </div>
                            <div class="modal-footer pb-0 pe-0">
                                <p id="loginMessage"></p>
                                <button type="button" class="btnAdd btnCancel" data-bs-dismiss="modal">Cancel</button>
                                <input type="submit" value="Login" id="loginSubmit" class="btnAdd">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{ end }}

    {{ if .LoggedIn }}
    <!-- Add Student Button & Modal -->
    <button id="add" type="button" class="btnAdd" data-bs-toggle="modal" data-bs-target="#addModal"
        style="position: fixed; right: 8px; bottom: 2vh;">Add</button>
    <button id="addPlus" type="button" class="btnAdd" data-bs-toggle="modal" data-bs-target="#addModal"
        style="position: fixed; right: 8px; bottom: 2vh;font-weight: bold;">&plus;</button>
    <div id="addModalSection">
        <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModalLabel"
            aria-hidden="true" data-bs-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header mx-3 px-0">
                        <p class="modal-title h5" id="addModalLabel" style="color: #424557;">Add a Student</p>
                        <span class="modal-close-icon" aria-hidden="true" data-bs-dismiss="modal"
                            aria-label="Close">&times;</span>
                    </div>
                    <div class="modal-body">
                        <form class="form">
                            <p id="sid" style="display: none;"></p>
                            <div class="row pb-3">
                                <div class="form-floating col">
                                    <input type="text" name="name" id="name" class="form-control" placeholder="name"
                                        style="height: 50px;" required>
                                    <label for="name" style="padding: 13px 26px; color: #8b8fa7;">Name *</label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errName"></p>
                                </div>
                                <div class="form-floating col">
                                    <input type="text" name="session" id="session" class="form-control"
                                        placeholder="session" style="height: 50px;" required>
                                    <label for="session" style="padding: 13px 26px; color: #8b8fa7;">Session *</label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errSession"></p>
                                </div>
                            </div>
                            <div class="row pb-3">
                                <div class="form-floating col">
                                    <input type="text" name="reg" id="reg" class="form-control" placeholder="reg"
                                        style="height: 50px;" required>
                                    <label for="reg" style="padding: 13px 26px; color: #8b8fa7;">
                                        Registration No. *
                                    </label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errReg"></p>
                                </div>
                                <div class="form-floating col">
                                    <input type="text" name="roll" id="roll" class="form-control" placeholder="roll"
                                        style="height: 50px;" required>
                                    <label for="roll" style="padding: 13px 26px; color: #8b8fa7;">Class Roll *</label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errRoll"></p>
                                </div>
                            </div>
                            <div class="row pb-3">
                                <div class="form-floating col">
                                    <input type="text" name="passingYear" id="passingYear" class="form-control"
                                        placeholder="passingYear" style="height: 50px;" required>
                                    <label for="passingYear" style="padding: 13px 26px; color: #8b8fa7;">
                                        Passing Year *
                                    </label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errPassingYear"></p>
                                </div>
                                <div class="form-floating col">
                                    <input type="text" name="phone" id="phone" class="form-control" placeholder="phone"
                                        style="height: 50px;">
                                    <label for="phone" style="padding: 13px 26px; color: #8b8fa7;">Phone No.</label>
                                </div>
                            </div>
                            <div class="row pb-3">
                                <div class="form-floating col">
                                    <input type="email" name="email" id="email" class="form-control" placeholder="email"
                                        style="height: 50px;">
                                    <label for="email" style="padding: 13px 26px; color: #8b8fa7;">Email</label>
                                    <p class="text-center pt-1 mb-0" style="color: #ff4d4d;" id="errEmail"></p>
                                </div>
                                <div class="form-floating col">
                                    <input type="file" name="avatar" id="avatar" class="form-control ps-4"
                                        placeholder="avatar" style="height: 50px; font-size: 10px;"
                                        accept="image/png, image/jpeg">
                                    <label for="avatar" style="padding: 13px 26px; color: #8b8fa7;">Picture</label>
                                </div>
                            </div>
                            <div class="modal-footer pb-0 pe-0">
                                <p id="addMessage"></p>
                                <button type="button" id="btnNo" class="btnAdd btnCancel"
                                    data-bs-dismiss="modal">Close</button>
                                <input type="submit" value="Add" id="addSubmit" class="btnAdd">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Modal -->
    <div id="deleteModalSection">
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
            aria-hidden="true" data-bs-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" style="max-width: 80%;">
                    <div class="modal-header mx-3 px-0">
                        <p class="modal-title h5" id="deleteModalLabel" style="color: #424557;">Delete Student</p>
                        <span class="modal-close-icon" aria-hidden="true" data-bs-dismiss="modal" aria-label="Close">
                            &times;
                        </span>
                    </div>
                    <div class="modal-body">
                        <form class="form">
                            <div class="row pb-3">
                                <div class="form-floating">
                                    <p class="h5 text-center mb-0 py-4" style="color: #1b2f4b;">
                                        Please confirm to delete!
                                    </p>
                                </div>
                            </div>
                            <div class="modal-footer pb-0 pe-0">
                                <p id="deleteMessage"></p>
                                <button type="button" class="btnAdd btnCancel" data-bs-dismiss="modal">Cancel</button>
                                <input type="submit" value="Delete" id="deleteSubmit" class="btnAdd">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{ end}}

    <!-- scripts section -->

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <!-- scripts -->
    <script src="../assets/scripts/main.js"></script>
</body>

</html>